

  UniswapV3Pool swap tests
    low fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      1) swap token0 for token1 to price 2.5000
      2) swap token1 for token0 to price 0.40000
    medium fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      3) swap token0 for token1 to price 2.5000
      4) swap token1 for token0 to price 0.40000
    high fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      5) "before each" hook: load fixture for "swap token0 for exactly 1.0000 token1"
      6) "after each" hook: check can burn positions for "swap token0 for exactly 1.0000 token1"
    medium fee, 10:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      7) swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      8) swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      9) "before each" hook: load fixture for "swap exactly 0.0000000000000010000 token1 for token0"
      10) "after each" hook: check can burn positions for "swap exactly 0.0000000000000010000 token1 for token0"
    medium fee, 1:10 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      11) swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      12) swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      13) swap token0 for token1 to price 0.40000
      14) swap token0 for token1 to price 2.5000
      ✔ swap token1 for token0 to price 0.40000
    medium fee, 1:1 price, 0 liquidity, all liquidity around current price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      15) swap token0 for token1 to price 2.5000
      16) swap token1 for token0 to price 0.40000
    medium fee, 1:1 price, additional liquidity around current price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      17) swap token0 for token1 to price 2.5000
      18) swap token1 for token0 to price 0.40000
    low fee, large liquidity around current price (stable swap)
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      19) swap token0 for token1 to price 2.5000
      20) swap token1 for token0 to price 0.40000
    medium fee, token0 liquidity only
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      21) swap token0 for token1 to price 2.5000
      22) swap token1 for token0 to price 0.40000
    medium fee, token1 liquidity only
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      23) swap token0 for token1 to price 2.5000
      24) swap token1 for token0 to price 0.40000
    close to max price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      25) swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      26) swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      27) swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      ✔ swap token0 for token1 to price 2.5000
      28) swap token1 for token0 to price 0.40000
    close to min price
      ✔ swap exactly 1.0000 token0 for token1
      29) swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      30) swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      31) swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      32) swap token0 for token1 to price 0.40000
      33) swap token0 for token1 to price 2.5000
      ✔ swap token1 for token0 to price 0.40000
    max full range liquidity at 1:1 price with default fee
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      34) swap token0 for token1 to price 2.5000
      35) swap token1 for token0 to price 0.40000
    initialized at the max ratio
      ✔ swap exactly 1.0000 token0 for token1
      36) swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      37) swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      38) swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      39) swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      40) swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      41) swap token1 for exactly 0.0000000000000010000 token0
      42) swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      43) "before each" hook: load fixture for "swap token0 for token1 to price 2.5000"
      44) "after each" hook: check can burn positions for "swap token0 for token1 to price 2.5000"
    initialized at the min ratio
      45) swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      46) swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      47) swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      48) swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      49) swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      50) swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      51) swap token0 for token1 to price 0.40000
      52) swap token0 for token1 to price 2.5000
      ✔ swap token1 for token0 to price 0.40000


Snapshot Summary
 › 45 snapshots failed from 1 test suite. Inspect your code changes or re-run mocha with `--update` to update them to update them.
 › 24 snapshots obsolete from 1 test suite. To remove them all, re-run mocha with `--update` to update them.
   ↳ test/UniswapV3Pool.swaps.spec.ts
       • UniswapV3Pool swap tests close to min price swap exactly 1.0000 token1 for token0 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token0 for token1 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token0 for token1 to price 0.50000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap exactly 1.0000 token1 for token0 to price 2.0000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for exactly 1.0000 token1 to price 0.50000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for exactly 1.0000 token0 to price 2.0000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1
       • UniswapV3Pool swap tests high fee, 1:1 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1
       • UniswapV3Pool swap tests initialized at the max ratio swap token0 for token1 to price 2.5000 1
       • UniswapV3Pool swap tests initialized at the max ratio swap token1 for token0 to price 0.40000 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap exactly 0.0000000000000010000 token1 for token0 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for exactly 0.0000000000000010000 token1 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for token1 to price 0.40000 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token0 for token1 to price 2.5000 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for exactly 0.0000000000000010000 token0 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for token0 to price 0.40000 1
       • UniswapV3Pool swap tests medium fee, 10:1 price, 2e18 max range liquidity swap token1 for token0 to price 2.5000 1

  171 passing (4h)
  52 failing

  1) UniswapV3Pool swap tests
       low fee, 1:1 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03248 (method 3844450837) -- contract reverted (33)\\n01: f03251 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x6A04CD2C035a9c939d868d0614B8c5F862a6469e\",\"data\":\"0x2ec20bf900000000000000000000000016d415148e8da1b843a14febc0bbbe62924755c9000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03407 (method 3844450837) -- contract reverted (33)\\n01: f03410 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xa45ebf52f96220f06B7217DEe53589eC8c0C1395\",\"data\":\"0x2ec20bf9000000000000000000000000b7e3c33f7e22f9db1c3afa89cd0c99dbcbcbdea9000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  2) UniswapV3Pool swap tests
       low fee, 1:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03256 (method 3844450837) -- contract reverted (33)\\n01: f03259 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xF1DbBFC78Fa3849d6402d849F73CE35A9AB642BA\",\"data\":\"0x9e77b805000000000000000000000000cc04a5a8188790829c502f364a4e59999d99ef5d0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03415 (method 3844450837) -- contract reverted (33)\\n01: f03418 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x66a85339A61c4Fd1Ae6c5F5245699B620B55E760\",\"data\":\"0x9e77b8050000000000000000000000009fa15b5d2b5379beb83f68fb7ce7b7d11442a0610000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  3) UniswapV3Pool swap tests
       medium fee, 1:1 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03376 (method 3844450837) -- contract reverted (33)\\n01: f03379 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xbfE89234Bf715e492e54e34DaF093D7FdE13d452\",\"data\":\"0x2ec20bf9000000000000000000000000025f0d8a55389bf444f987493bfdf612e90d26fa000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03535 (method 3844450837) -- contract reverted (33)\\n01: f03538 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x602D46121C2282C76B53388C6fc7C93935ebC1bA\",\"data\":\"0x2ec20bf900000000000000000000000090eab256d496868c7ac419cc8f47b061f21bfa7a000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  4) UniswapV3Pool swap tests
       medium fee, 1:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03384 (method 3844450837) -- contract reverted (33)\\n01: f03387 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x7d3C8056073712265bF51C7A372FF9899cCfD464\",\"data\":\"0x9e77b805000000000000000000000000eace0f3dadba9230b8e50e36ec01187217a2b9c70000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03543 (method 3844450837) -- contract reverted (33)\\n01: f03546 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xFeF78021274AB88704ED605461A83Eb62820a3fb\",\"data\":\"0x9e77b805000000000000000000000000abda7d2cb751b2495d7b27254801141f925deabe0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  5) UniswapV3Pool swap tests
       high fee, 1:1 price, 2e18 max range liquidity
         "before each" hook: load fixture for "swap token0 for exactly 1.0000 token1":
     HeadersTimeoutError: Headers Timeout Error
      at Timeout.onParserTimeout [as callback] (node_modules/undici/lib/client.js:916:28)
      at Timeout.onTimeout [as _onTimeout] (node_modules/undici/lib/timers.js:18:13)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  6) UniswapV3Pool swap tests
       high fee, 1:1 price, 2e18 max range liquidity
         "after each" hook: check can burn positions for "swap token0 for exactly 1.0000 token1":
     Error: cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason="failed to estimate gas: message execution failed: exit 33, revert reason: Error(LS), vm error: message failed with backtrace:\n00: f03403 (method 3844450837) -- contract reverted (33)\n (RetCode=33)", method="estimateGas", transaction={"from":"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7","to":"0x2dfeb4385251FBfB778DC9008Eb71e8f7F2Df8cA","data":"0xa34123a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2766000000000000000000000000000000000000000000000000000000000000d89a00000000000000000000000000000000000000000000000001bc16d674ec80000","accessList":null}, error={"name":"ProviderError","_stack":"ProviderError: HttpProviderError\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)","code":1,"_isProviderError":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)
      at Logger.makeError (node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:269:28)
      at Logger.throwError (node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:281:20)
      at checkError (node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:78:20)
      at EthersProviderWrapper.<anonymous> (node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:642:20)
      at step (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:48:23)
      at Object.throw (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:29:53)
      at rejected (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:21:65)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  7) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         swap exactly 1.0000 token1 for token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "632455532033675867",
         "poolBalance1": "6324555320336758664",
         "poolPriceBefore": "10.000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03456 (method 3844450837) -- contract reverted (33)\\n01: f03459 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x4fCAd863D6e2F16D1e0b21C759D5D8F9f98872F3\",\"data\":\"0xe2be910900000000000000000000000034aa932a1edb9ab0a291ac230236b45ada97b5e20000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03719 (method 3844450837) -- contract reverted (33)\\n01: f03722 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x08c381f65784fD25ed19C0534ED30d91044C0EA2\",\"data\":\"0xe2be910900000000000000000000000086041f96f2178fb35edb7e358c7b8f9b7bdc4d590000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 23027,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  8) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         swap token1 for exactly 1.0000 token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "632455532033675867",
         "poolBalance1": "6324555320336758664",
         "poolPriceBefore": "10.000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03472 (method 3844450837) -- contract reverted (33)\\n01: f03475 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xC36E9BFd1598B999d8Dd8e82B4a0FB10e06fda7A\",\"data\":\"0xf603482c00000000000000000000000042e12386d463684af6e534dcec628a39c18b88610000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03735 (method 3844450837) -- contract reverted (33)\\n01: f03738 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x3f9E6bef2b2a40C5DD41E373F1e4B3D5b8bDF075\",\"data\":\"0xf603482c000000000000000000000000b268c7a1d101364c6c1ddeefef91fb68baf043ec0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 23027,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  9) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         "before each" hook: load fixture for "swap exactly 0.0000000000000010000 token1 for token0":
     HeadersTimeoutError: Headers Timeout Error
      at Timeout.onParserTimeout [as callback] (node_modules/undici/lib/client.js:916:28)
      at Timeout.onTimeout [as _onTimeout] (node_modules/undici/lib/timers.js:18:13)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  10) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         "after each" hook: check can burn positions for "swap exactly 0.0000000000000010000 token1 for token0":
     Error: cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason="failed to estimate gas: message execution failed: exit 33, revert reason: Error(LS), vm error: message failed with backtrace:\n00: f03483 (method 3844450837) -- contract reverted (33)\n (RetCode=33)", method="estimateGas", transaction={"from":"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7","to":"0x1B25aE95232F121C87c22361F994eE48119a7A50","data":"0xa34123a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff2764c00000000000000000000000000000000000000000000000000000000000d89b40000000000000000000000000000000000000000000000001bc16d674ec80000","accessList":null}, error={"name":"ProviderError","_stack":"ProviderError: HttpProviderError\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)","code":1,"_isProviderError":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)
      at Logger.makeError (node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:269:28)
      at Logger.throwError (node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:281:20)
      at checkError (node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:78:20)
      at EthersProviderWrapper.<anonymous> (node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:642:20)
      at step (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:48:23)
      at Object.throw (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:29:53)
      at rejected (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:21:65)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  11) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap exactly 1.0000 token0 for token1 to price 0.50000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03523 (method 3844450837) -- contract reverted (33)\\n01: f03526 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xD18393883fB6EF7E1A192A59694a6ce9aD833463\",\"data\":\"0x6dfc0ddb000000000000000000000000b9c1d1b56b9118422240c986146a1085442c3eab0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03839 (method 3844450837) -- contract reverted (33)\\n01: f03842 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x222a9DA2efe09F5C0Ba56a71d27c21F10962AAe8\",\"data\":\"0x6dfc0ddb0000000000000000000000003a3550f0caaaa9a4493bd12b381528fc09dee8550000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  12) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap token0 for exactly 1.0000 token1 to price 0.50000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03539 (method 3844450837) -- contract reverted (33)\\n01: f03542 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x63D69a495557f5F96472e20765C15744F67f982C\",\"data\":\"0xbac7bf78000000000000000000000000ec63239f25a398844768fa3ea2f2da887e6759f60000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03855 (method 3844450837) -- contract reverted (33)\\n01: f03858 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x92E89CcF18609416e2A7658dCEBee2911B342DD1\",\"data\":\"0xbac7bf780000000000000000000000005d2c0ab5c4aeb7d2ceac2cf9aed19f9d791e94710000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  13) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap token0 for token1 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03595 (method 3844450837) -- contract reverted (33)\\n01: f03598 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xEA92E5c9a554500ce65913203583CdA8f45bbdEe\",\"data\":\"0x2ec20bf90000000000000000000000002bd294f6584c2ec41a17a65887aea0c1047484a80000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03911 (method 3844450837) -- contract reverted (33)\\n01: f03914 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x32c1693b1aC05294DA982965E8B42AE6f31e5713\",\"data\":\"0x2ec20bf9000000000000000000000000bef385f5313a2a76e362273d0787b83852c7be2c0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  14) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03603 (method 3844450837) -- contract reverted (33)\\n01: f03606 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xFC7abA4ef27Aa1EAf89Fe629cB22eF0c4BD9e696\",\"data\":\"0x2ec20bf90000000000000000000000000ae80816653e8149e8e7ccf06988348a870a9a34000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03919 (method 3844450837) -- contract reverted (33)\\n01: f03922 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x6AACDbD766773B8063DfA690B41377a5cFD79018\",\"data\":\"0x2ec20bf900000000000000000000000065be55f25946ea3aab1e2b6bea6c58850b69c112000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  15) UniswapV3Pool swap tests
       medium fee, 1:1 price, 0 liquidity, all liquidity around current price
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1994009290088178439",
         "poolBalance1": "1994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03731 (method 3844450837) -- contract reverted (33)\\n01: f03734 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x982C3F0Df8bfC85177b1328795b1e34D78D83D47\",\"data\":\"0x2ec20bf9000000000000000000000000c658c8ff28895e5156a5abdc0d49a5a095e1875e000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04047 (method 3844450837) -- contract reverted (33)\\n01: f04050 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x69b097df48d593252DF51Bb95Bf5a9a7E0f04583\",\"data\":\"0x2ec20bf9000000000000000000000000752307024954f48e2a30ea053badb61ebe70b4be000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  16) UniswapV3Pool swap tests
       medium fee, 1:1 price, 0 liquidity, all liquidity around current price
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1994009290088178439",
         "poolBalance1": "1994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03739 (method 3844450837) -- contract reverted (33)\\n01: f03742 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x225d252787d1C1920e996793b462a2c2699136fc\",\"data\":\"0x9e77b8050000000000000000000000009a68339d79d78b129a759cc9d919ecf504b7708d0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04055 (method 3844450837) -- contract reverted (33)\\n01: f04058 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x8731cbd8E67c4f55eF7aBc9b4E67f96e944bBF83\",\"data\":\"0x9e77b8050000000000000000000000003e5e4346642ab07e4dd2a1c5eaa5faddf18d37650000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  17) UniswapV3Pool swap tests
       medium fee, 1:1 price, additional liquidity around current price
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "3994009290088178439",
         "poolBalance1": "3994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03859 (method 3844450837) -- contract reverted (33)\\n01: f03862 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x693FB0361D0C53b457b6F8D44152B99c31666b2D\",\"data\":\"0x2ec20bf9000000000000000000000000ac8725367563f50bcc870a082cc41768ee5d0f54000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04175 (method 3844450837) -- contract reverted (33)\\n01: f04178 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x2120027e133E9f1cF8c9cD0DBfaE06C8faCFeDA5\",\"data\":\"0x2ec20bf9000000000000000000000000330092ad0e8a2005af8b35c7c8cdfb7baf9fbe82000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  18) UniswapV3Pool swap tests
       medium fee, 1:1 price, additional liquidity around current price
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "3994009290088178439",
         "poolBalance1": "3994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03867 (method 3844450837) -- contract reverted (33)\\n01: f03870 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x7EbBe061d391B2c40D08C5c93B5748ef0Af3D19c\",\"data\":\"0x9e77b8050000000000000000000000008293bfee0c8052def68be97c4c49a4a1e699e34c0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04183 (method 3844450837) -- contract reverted (33)\\n01: f04186 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x12b506157713A4C9C2e4e583B70743063d5c80a9\",\"data\":\"0x9e77b80500000000000000000000000030fe6edaa8492ba3facab07813a00326cb7eb37b0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  19) UniswapV3Pool swap tests
       low fee, large liquidity around current price (stable swap)
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "999700069986003",
         "poolBalance1": "999700069986003",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03987 (method 3844450837) -- contract reverted (33)\\n01: f03990 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x83AE23d23e53ec7961aA05a22EA0c6Df5f866832\",\"data\":\"0x2ec20bf90000000000000000000000007fc5651014dff018343f699abc7f30e0315991d8000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04303 (method 3844450837) -- contract reverted (33)\\n01: f04306 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x8Eeb7388930CB8F036D35d79A36b5bB982AF767b\",\"data\":\"0x2ec20bf9000000000000000000000000b0924ce8f164181e5fd6dc4e6c1e34b07cd4d858000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  20) UniswapV3Pool swap tests
       low fee, large liquidity around current price (stable swap)
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "999700069986003",
         "poolBalance1": "999700069986003",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03995 (method 3844450837) -- contract reverted (33)\\n01: f03998 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xbf0a1126a01AD347CB89437ff9922910846c1D8F\",\"data\":\"0x9e77b805000000000000000000000000634c606a660133c283f61a0aed044167e34de42d0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04311 (method 3844450837) -- contract reverted (33)\\n01: f04314 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x0714FeB5533327A768100B67774E12A4A672C717\",\"data\":\"0x9e77b8050000000000000000000000003fa403df511f08f4c18c9e3d8cc1686d635eeebe0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  21) UniswapV3Pool swap tests
       medium fee, token0 liquidity only
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1995041008271423675",
         "poolBalance1": "0",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04115 (method 3844450837) -- contract reverted (33)\\n01: f04118 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x28f8541f2e828fCF3d5626143C00393185d4919c\",\"data\":\"0x2ec20bf9000000000000000000000000ffe24ef5858f32e7126123cae6331fedea1e3df0000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04431 (method 3844450837) -- contract reverted (33)\\n01: f04434 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x1C12ba2c62C22cD1c09AbafafA676F26922310C3\",\"data\":\"0x2ec20bf9000000000000000000000000cef21d9017de78ce3f9e6bff0a2282553a21ed59000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  22) UniswapV3Pool swap tests
       medium fee, token0 liquidity only
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1995041008271423675",
         "poolBalance1": "0",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04123 (method 3844450837) -- contract reverted (33)\\n01: f04126 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x19cF36fBB4e6C16A5e6A0423ca7c32F656FbFb31\",\"data\":\"0x9e77b805000000000000000000000000e14aaeede237054bddedbbf09243eade8627ea0d0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04439 (method 3844450837) -- contract reverted (33)\\n01: f04442 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x1bCD47444de25634E2363225BDee3F61B2EeD699\",\"data\":\"0x9e77b805000000000000000000000000f8cf57adefbf92d423ecaa9677e12092308283210000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  23) UniswapV3Pool swap tests
       medium fee, token1 liquidity only
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "0",
         "poolBalance1": "1995041008271423675",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04243 (method 3844450837) -- contract reverted (33)\\n01: f04246 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x28D5DEd865444115cCfDc0D9086dAb2E3Cc649F2\",\"data\":\"0x2ec20bf9000000000000000000000000276749e93d9983dcc5f8aef7f7fabc5ddb2e93ed000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04559 (method 3844450837) -- contract reverted (33)\\n01: f04562 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xA65d6a6CBC37a168c029D5Bce1E4F75831441dC8\",\"data\":\"0x2ec20bf90000000000000000000000003e1f5d259a9c8dbb40648aff1a26711ca2f8a4d1000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  24) UniswapV3Pool swap tests
       medium fee, token1 liquidity only
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "0",
         "poolBalance1": "1995041008271423675",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04251 (method 3844450837) -- contract reverted (33)\\n01: f04254 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x26b12Ec6BBCAaF2250CFF70a7648e3DA571D3A7e\",\"data\":\"0x9e77b805000000000000000000000000b8b1db7eec9c790f34765633d8e2514550e2c2ae0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04567 (method 3844450837) -- contract reverted (33)\\n01: f04570 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x0597595A62988251a0d1a8747cF40a4fb2DBD4c2\",\"data\":\"0x9e77b805000000000000000000000000c13ba87e91788fd7e9c808dbf00c4ca430b732c40000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  25) UniswapV3Pool swap tests
       close to max price
         swap exactly 1.0000 token1 for token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04299 (method 3844450837) -- contract reverted (33)\\n01: f04302 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xef0e94c9f6956c84256E3a95619794bAB1937A33\",\"data\":\"0xe2be91090000000000000000000000005bb3b90ea82b6b16c8a984c94c309b76ac033e0e0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04615 (method 3844450837) -- contract reverted (33)\\n01: f04618 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x4BFBAc68d379764D79D98779cD854a4a1F1C1673\",\"data\":\"0xe2be9109000000000000000000000000a4601a3a21a0bf636d49929d6481777ec05c66eb0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  26) UniswapV3Pool swap tests
       close to max price
         swap token1 for exactly 1.0000 token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04315 (method 3844450837) -- contract reverted (33)\\n01: f04318 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x99E203649750864956445C0271986E3F7627B28A\",\"data\":\"0xf603482c00000000000000000000000071b3bbb266b6dfa18516f7de595364bfce4876040000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04631 (method 3844450837) -- contract reverted (33)\\n01: f04634 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xbd654BD10026C98Fdac35a2C36779F8C933aC73a\",\"data\":\"0xf603482c00000000000000000000000042a76fd4d84231aef78a88447e2e6d0845352eed0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  27) UniswapV3Pool swap tests
       close to max price
         swap token1 for token0 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04355 (method 3844450837) -- contract reverted (33)\\n01: f04358 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xd68D4CD68a0EF4f4fdB914b1a2cF912f71c3Af33\",\"data\":\"0x9e77b805000000000000000000000000534f9dc542893c14dad5f1eb5847b340d14770a2000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04671 (method 3844450837) -- contract reverted (33)\\n01: f04674 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x22A5Cd7680dAEad39edf79C1ed4E5CAE216758ED\",\"data\":\"0x9e77b805000000000000000000000000ed7204b9585c5a2bbf2e91e230a1d4d8b70145d7000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  28) UniswapV3Pool swap tests
       close to max price
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04379 (method 3844450837) -- contract reverted (33)\\n01: f04382 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x3E162Bf26A478F00dDB3e6c32b5205783DB411b8\",\"data\":\"0x9e77b805000000000000000000000000f4709f6ff9acc2c16ef93e01c20cf54a08ef60860000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04695 (method 3844450837) -- contract reverted (33)\\n01: f04698 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x11C524E8fd1aE1438EaC5C4339afa980D5172Fa2\",\"data\":\"0x9e77b8050000000000000000000000008bc9f2fe3d78ea560254bb8d298605a9a76688410000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  29) UniswapV3Pool swap tests
       close to min price
         swap exactly 1.0000 token1 for token0:
     Error: missing revert data in call exception; Transaction reverted without a reason string [ See: https://links.ethers.org/v5-errors-CALL_EXCEPTION ] (data="0x", transaction={"from":"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7","to":"0xFAc257a043dE24e84b6b7ed5Ed5c641606Aa4afd","data":"0x1a686502","accessList":null}, error={"name":"HeadersTimeoutError","code":"UND_ERR_HEADERS_TIMEOUT","message":"Headers Timeout Error"}, code=CALL_EXCEPTION, version=providers/5.7.2)
      at Logger.makeError (node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:269:28)
      at Logger.throwError (node_modules/@ethersproject/providers/node_modules/@ethersproject/logger/src.ts/index.ts:281:20)
      at checkError (node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:66:16)
      at EthersProviderWrapper.<anonymous> (node_modules/@ethersproject/providers/src.ts/json-rpc-provider.ts:642:20)
      at step (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:48:23)
      at Object.throw (node_modules/@ethersproject/providers/lib/json-rpc-provider.js:29:53)
      at rejected (node_modules/@e