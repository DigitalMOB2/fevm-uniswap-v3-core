

  UniswapV3Pool swap tests
    low fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1 (4281ms)
      ✔ swap exactly 1.0000 token1 for token0 (4236ms)
      ✔ swap token0 for exactly 1.0000 token1 (4211ms)
      ✔ swap token1 for exactly 1.0000 token0 (4200ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4253ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4180ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4198ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4226ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4216ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4179ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4165ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4216ms)
      ✔ swap token1 for token0 to price 2.5000 (4195ms)
      ✔ swap token0 for token1 to price 0.40000 (4265ms)
      ✔ swap token0 for token1 to price 2.5000 (69ms)
      ✔ swap token1 for token0 to price 0.40000 (68ms)
    medium fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1 (8217ms)
      ✔ swap exactly 1.0000 token1 for token0 (4237ms)
      ✔ swap token0 for exactly 1.0000 token1 (4240ms)
      ✔ swap token1 for exactly 1.0000 token0 (4447ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (8315ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4217ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4214ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4184ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4199ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (8275ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4224ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4160ms)
      ✔ swap token1 for token0 to price 2.5000 (4226ms)
      ✔ swap token0 for token1 to price 0.40000 (4260ms)
      ✔ swap token0 for token1 to price 2.5000 (96ms)
      ✔ swap token1 for token0 to price 0.40000 (69ms)
    high fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1 (4225ms)
      ✔ swap exactly 1.0000 token1 for token0 (4219ms)
      ✔ swap token0 for exactly 1.0000 token1 (4179ms)
      ✔ swap token1 for exactly 1.0000 token0 (4219ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4204ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4179ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4201ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4189ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4159ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4184ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4191ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4167ms)
      ✔ swap token1 for token0 to price 2.5000 (4170ms)
      ✔ swap token0 for token1 to price 0.40000 (4207ms)
      ✔ swap token0 for token1 to price 2.5000 (67ms)
      ✔ swap token1 for token0 to price 0.40000 (46ms)
    medium fee, 10:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1 (4235ms)
      ✔ swap exactly 1.0000 token1 for token0 (4176ms)
      ✔ swap token0 for exactly 1.0000 token1 (4161ms)
      ✔ swap token1 for exactly 1.0000 token0 (4364ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4186ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (58ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4234ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (53ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4201ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4183ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4202ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4176ms)
      ✔ swap token1 for token0 to price 2.5000 (98ms)
      ✔ swap token0 for token1 to price 0.40000 (4188ms)
      ✔ swap token0 for token1 to price 2.5000 (8304ms)
      ✔ swap token1 for token0 to price 0.40000 (125ms)
    medium fee, 1:10 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1 (4217ms)
      ✔ swap exactly 1.0000 token1 for token0 (4190ms)
      ✔ swap token0 for exactly 1.0000 token1 (4388ms)
      ✔ swap token1 for exactly 1.0000 token0 (4205ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (95ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4218ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (64ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4186ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4182ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4185ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4190ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4218ms)
      ✔ swap token1 for token0 to price 2.5000 (4256ms)
      ✔ swap token0 for token1 to price 0.40000 (87ms)
      ✔ swap token0 for token1 to price 2.5000 (59ms)
      ✔ swap token1 for token0 to price 0.40000 (4199ms)
    medium fee, 1:1 price, 0 liquidity, all liquidity around current price
      ✔ swap exactly 1.0000 token0 for token1 (4216ms)
      ✔ swap exactly 1.0000 token1 for token0 (4222ms)
      ✔ swap token0 for exactly 1.0000 token1 (4213ms)
      ✔ swap token1 for exactly 1.0000 token0 (4197ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4248ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4205ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4202ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4218ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4198ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4215ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4213ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4223ms)
      ✔ swap token1 for token0 to price 2.5000 (4227ms)
      ✔ swap token0 for token1 to price 0.40000 (4206ms)
      ✔ swap token0 for token1 to price 2.5000 (69ms)
      ✔ swap token1 for token0 to price 0.40000 (84ms)
    medium fee, 1:1 price, additional liquidity around current price
      ✔ swap exactly 1.0000 token0 for token1 (4243ms)
      ✔ swap exactly 1.0000 token1 for token0 (4248ms)
      ✔ swap token0 for exactly 1.0000 token1 (4301ms)
      ✔ swap token1 for exactly 1.0000 token0 (4239ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4218ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4178ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4270ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4254ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4200ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4207ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4245ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4231ms)
      ✔ swap token1 for token0 to price 2.5000 (4323ms)
      ✔ swap token0 for token1 to price 0.40000 (4275ms)
      ✔ swap token0 for token1 to price 2.5000 (141ms)
      ✔ swap token1 for token0 to price 0.40000 (64ms)
    low fee, large liquidity around current price (stable swap)
      ✔ swap exactly 1.0000 token0 for token1 (5867ms)
      ✔ swap exactly 1.0000 token1 for token0 (5350ms)
      ✔ swap token0 for exactly 1.0000 token1 (5278ms)
      ✔ swap token1 for exactly 1.0000 token0 (5198ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4253ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4271ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4294ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4269ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4227ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4196ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4210ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4288ms)
      ✔ swap token1 for token0 to price 2.5000 (4331ms)
      ✔ swap token0 for token1 to price 0.40000 (4276ms)
      ✔ swap token0 for token1 to price 2.5000 (71ms)
      ✔ swap token1 for token0 to price 0.40000 (86ms)
    medium fee, token0 liquidity only
      ✔ swap exactly 1.0000 token0 for token1 (4417ms)
      ✔ swap exactly 1.0000 token1 for token0 (4209ms)
      ✔ swap token0 for exactly 1.0000 token1 (4372ms)
      ✔ swap token1 for exactly 1.0000 token0 (4250ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4207ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4190ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (8310ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4216ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4406ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4278ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4420ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4266ms)
      ✔ swap token1 for token0 to price 2.5000 (4398ms)
      ✔ swap token0 for token1 to price 0.40000 (4267ms)
      ✔ swap token0 for token1 to price 2.5000 (66ms)
      ✔ swap token1 for token0 to price 0.40000 (109ms)
    medium fee, token1 liquidity only
      ✔ swap exactly 1.0000 token0 for token1 (4278ms)
      ✔ swap exactly 1.0000 token1 for token0 (4414ms)
      ✔ swap token0 for exactly 1.0000 token1 (4277ms)
      ✔ swap token1 for exactly 1.0000 token0 (4410ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4286ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4237ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4228ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4204ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4233ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4438ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4214ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4370ms)
      ✔ swap token1 for token0 to price 2.5000 (4197ms)
      ✔ swap token0 for token1 to price 0.40000 (4251ms)
      ✔ swap token0 for token1 to price 2.5000 (65ms)
      ✔ swap token1 for token0 to price 0.40000 (78ms)
    close to max price
      ✔ swap exactly 1.0000 token0 for token1 (4465ms)
      ✔ swap exactly 1.0000 token1 for token0 (4339ms)
      ✔ swap token0 for exactly 1.0000 token1 (4206ms)
      ✔ swap token1 for exactly 1.0000 token0 (4227ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4431ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (53ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4190ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (74ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4283ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4220ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4193ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4232ms)
      ✔ swap token1 for token0 to price 2.5000 (47ms)
      ✔ swap token0 for token1 to price 0.40000 (4436ms)
      ✔ swap token0 for token1 to price 2.5000 (4467ms)
      ✔ swap token1 for token0 to price 0.40000 (70ms)
    close to min price
      ✔ swap exactly 1.0000 token0 for token1 (4227ms)
      ✔ swap exactly 1.0000 token1 for token0 (4414ms)
      ✔ swap token0 for exactly 1.0000 token1 (4208ms)
      ✔ swap token1 for exactly 1.0000 token0 (4194ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (76ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4401ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (68ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4198ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4214ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4263ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4209ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4280ms)
      ✔ swap token1 for token0 to price 2.5000 (4460ms)
      ✔ swap token0 for token1 to price 0.40000 (73ms)
      ✔ swap token0 for token1 to price 2.5000 (88ms)
      ✔ swap token1 for token0 to price 0.40000 (4439ms)
    max full range liquidity at 1:1 price with default fee
      ✔ swap exactly 1.0000 token0 for token1 (4215ms)
      ✔ swap exactly 1.0000 token1 for token0 (4210ms)
      ✔ swap token0 for exactly 1.0000 token1 (4230ms)
      ✔ swap token1 for exactly 1.0000 token0 (4214ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4283ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4311ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4225ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4259ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4214ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4238ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4200ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4235ms)
      ✔ swap token1 for token0 to price 2.5000 (4207ms)
      ✔ swap token0 for token1 to price 0.40000 (4271ms)
      ✔ swap token0 for token1 to price 2.5000 (65ms)
      ✔ swap token1 for token0 to price 0.40000 (4130ms)
    initialized at the max ratio
      ✔ swap exactly 1.0000 token0 for token1 (4448ms)
      ✔ swap exactly 1.0000 token1 for token0 (80ms)
      ✔ swap token0 for exactly 1.0000 token1 (4266ms)
      ✔ swap token1 for exactly 1.0000 token0 (89ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (4444ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (57ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (4398ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (123ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (4287ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (79ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (4314ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (124ms)
      ✔ swap token1 for token0 to price 2.5000 (109ms)
      ✔ swap token0 for token1 to price 0.40000 (4482ms)
      ✔ swap token0 for token1 to price 2.5000 (4429ms)
      ✔ swap token1 for token0 to price 0.40000 (92ms)
    initialized at the min ratio
      ✔ swap exactly 1.0000 token0 for token1 (80ms)
      ✔ swap exactly 1.0000 token1 for token0 (4504ms)
      ✔ swap token0 for exactly 1.0000 token1 (138ms)
      ✔ swap token1 for exactly 1.0000 token0 (4287ms)
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000 (56ms)
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000 (4421ms)
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000 (91ms)
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000 (4298ms)
      ✔ swap exactly 0.0000000000000010000 token0 for token1 (61ms)
      ✔ swap exactly 0.0000000000000010000 token1 for token0 (4341ms)
      ✔ swap token0 for exactly 0.0000000000000010000 token1 (80ms)
      ✔ swap token1 for exactly 0.0000000000000010000 token0 (4262ms)
      ✔ swap token1 for token0 to price 2.5000 (4432ms)
      ✔ swap token0 for token1 to price 0.40000 (67ms)
      ✔ swap token0 for token1 to price 2.5000 (70ms)
      ✔ swap token1 for token0 to price 0.40000 (4436ms)


  240 passing (1h)

