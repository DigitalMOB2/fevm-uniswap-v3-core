

  UniswapV3Pool swap tests
    low fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      1) swap token0 for token1 to price 2.5000
      2) swap token1 for token0 to price 0.40000
    medium fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      3) swap token0 for token1 to price 2.5000
      4) swap token1 for token0 to price 0.40000
    high fee, 1:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      5) swap token0 for token1 to price 2.5000
      6) swap token1 for token0 to price 0.40000
    medium fee, 10:1 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      7) swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      8) swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      9) swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      ✔ swap token0 for token1 to price 2.5000
      10) swap token1 for token0 to price 0.40000
    medium fee, 1:10 price, 2e18 max range liquidity
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      11) swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      12) swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      13) swap token0 for token1 to price 0.40000
      14) swap token0 for token1 to price 2.5000
      ✔ swap token1 for token0 to price 0.40000
    medium fee, 1:1 price, 0 liquidity, all liquidity around current price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      15) swap token0 for token1 to price 2.5000
      16) swap token1 for token0 to price 0.40000
    medium fee, 1:1 price, additional liquidity around current price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      17) swap token0 for token1 to price 2.5000
      18) swap token1 for token0 to price 0.40000
    low fee, large liquidity around current price (stable swap)
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      19) swap token0 for token1 to price 2.5000
      20) swap token1 for token0 to price 0.40000
    medium fee, token0 liquidity only
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      21) swap token0 for token1 to price 2.5000
      22) swap token1 for token0 to price 0.40000
    medium fee, token1 liquidity only
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      23) swap token0 for token1 to price 2.5000
      24) swap token1 for token0 to price 0.40000
    close to max price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      25) swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      26) swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      27) swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      ✔ swap token0 for token1 to price 2.5000
      28) swap token1 for token0 to price 0.40000
    close to min price
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      29) swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      30) swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      31) swap token0 for token1 to price 0.40000
      32) swap token0 for token1 to price 2.5000
      ✔ swap token1 for token0 to price 0.40000
    max full range liquidity at 1:1 price with default fee
      ✔ swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      33) swap token0 for token1 to price 2.5000
      34) swap token1 for token0 to price 0.40000
    initialized at the max ratio
      ✔ swap exactly 1.0000 token0 for token1
      35) swap exactly 1.0000 token1 for token0
      ✔ swap token0 for exactly 1.0000 token1
      36) swap token1 for exactly 1.0000 token0
      ✔ swap exactly 1.0000 token0 for token1 to price 0.50000
      37) swap exactly 1.0000 token1 for token0 to price 2.0000
      ✔ swap token0 for exactly 1.0000 token1 to price 0.50000
      38) swap token1 for exactly 1.0000 token0 to price 2.0000
      ✔ swap exactly 0.0000000000000010000 token0 for token1
      39) swap exactly 0.0000000000000010000 token1 for token0
      ✔ swap token0 for exactly 0.0000000000000010000 token1
      40) swap token1 for exactly 0.0000000000000010000 token0
      41) swap token1 for token0 to price 2.5000
      ✔ swap token0 for token1 to price 0.40000
      ✔ swap token0 for token1 to price 2.5000
      42) swap token1 for token0 to price 0.40000
    initialized at the min ratio
      43) swap exactly 1.0000 token0 for token1
      ✔ swap exactly 1.0000 token1 for token0
      44) swap token0 for exactly 1.0000 token1
      ✔ swap token1 for exactly 1.0000 token0
      45) swap exactly 1.0000 token0 for token1 to price 0.50000
      ✔ swap exactly 1.0000 token1 for token0 to price 2.0000
      46) swap token0 for exactly 1.0000 token1 to price 0.50000
      ✔ swap token1 for exactly 1.0000 token0 to price 2.0000
      47) swap exactly 0.0000000000000010000 token0 for token1
      ✔ swap exactly 0.0000000000000010000 token1 for token0
      48) swap token0 for exactly 0.0000000000000010000 token1
      ✔ swap token1 for exactly 0.0000000000000010000 token0
      ✔ swap token1 for token0 to price 2.5000
      49) swap token0 for token1 to price 0.40000
      50) swap token0 for token1 to price 2.5000
      ✔ swap token1 for token0 to price 0.40000


Snapshot Summary
 › 50 snapshots failed from 1 test suite. Inspect your code changes or re-run mocha with `--update` to update them to update them.

  190 passing (1h)
  50 failing

  1) UniswapV3Pool swap tests
       low fee, 1:1 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03470 (method 3844450837) -- contract reverted (33)\\n01: f03473 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x83B8f258E1082682f4848DC8566C4D72C988De3a\",\"data\":\"0x2ec20bf900000000000000000000000018a9d91c0dc961c1451506861980d0297b76d52a000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03228 (method 3844450837) -- contract reverted (33)\\n01: f03231 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xBf1D40158FdCe600Fd11463636B04Ef6D386cB95\",\"data\":\"0x2ec20bf90000000000000000000000004688a3f650a088f1105273ec1d5aaa3c90cc09b7000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  2) UniswapV3Pool swap tests
       low fee, 1:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03478 (method 3844450837) -- contract reverted (33)\\n01: f03481 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xd9f317D291B32dBE5F81e29BA061d1fB4A275Af4\",\"data\":\"0x9e77b8050000000000000000000000003ab637aacc221d15329858e4920b7625183ebfc30000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03236 (method 3844450837) -- contract reverted (33)\\n01: f03239 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x55738Af6cCA82f9a2fF12E77a2e098f5c43b4e1d\",\"data\":\"0x9e77b805000000000000000000000000ccc6a31addf531503d4886dbe61834c0cb6e05460000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  3) UniswapV3Pool swap tests
       medium fee, 1:1 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03598 (method 3844450837) -- contract reverted (33)\\n01: f03601 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xf7412cab0933b831138200fE258E5348646bC972\",\"data\":\"0x2ec20bf9000000000000000000000000abf6a219673d81c046cc370309dd8583a21dcde7000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03356 (method 3844450837) -- contract reverted (33)\\n01: f03359 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xcee99DD82962CE67Af7BcBce2B145F21e5a0bff3\",\"data\":\"0x2ec20bf900000000000000000000000035b9d5c978785ccf2a963f9fb56af6e4c5abcdc1000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  4) UniswapV3Pool swap tests
       medium fee, 1:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03606 (method 3844450837) -- contract reverted (33)\\n01: f03609 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xa6Fa4158010E08C2c1b04a4318d7fB4D89Ee0fce\",\"data\":\"0x9e77b805000000000000000000000000edbc4109988bdd5686fb8575f6e471a4418cd53b0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03364 (method 3844450837) -- contract reverted (33)\\n01: f03367 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x29e83370DdF9346F43954EdA25323a21D306d8d3\",\"data\":\"0x9e77b805000000000000000000000000a12319078bb92a4f981a4df1c311853fe7b9c1770000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  5) UniswapV3Pool swap tests
       high fee, 1:1 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03726 (method 3844450837) -- contract reverted (33)\\n01: f03729 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x21A943123783B3AAA0441D72550F2B46740AC1A2\",\"data\":\"0x2ec20bf900000000000000000000000079a829d035013d07bf58f2a8d5b3dcd6aa06b121000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03484 (method 3844450837) -- contract reverted (33)\\n01: f03487 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x59039C48387e1EBf17191B38f2C8F2b9e2312890\",\"data\":\"0x2ec20bf90000000000000000000000003e35120f0256ed05a0a4f8d66040edceca841e99000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  6) UniswapV3Pool swap tests
       high fee, 1:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "2000000000000000000",
         "poolBalance1": "2000000000000000000",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03734 (method 3844450837) -- contract reverted (33)\\n01: f03737 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xc7Db16360a9d1E6BE943013a023DCe261798D81F\",\"data\":\"0x9e77b805000000000000000000000000ee60cfe2eff995502d170d6085f4353e94ecd1370000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03492 (method 3844450837) -- contract reverted (33)\\n01: f03495 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x51F3472C80ec9a258499E2AAEE7683f0b50ba439\",\"data\":\"0x9e77b8050000000000000000000000008356fc8f419c3edecaef0088fdfdcd8cdfb1e9640000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  7) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         swap exactly 1.0000 token1 for token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "632455532033675867",
         "poolBalance1": "6324555320336758664",
         "poolPriceBefore": "10.000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03782 (method 3844450837) -- contract reverted (33)\\n01: f03785 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x998885aa214C58A03a7Ae7a3184dccE96f6a7D58\",\"data\":\"0xe2be91090000000000000000000000009aca8e5ea8b55a4cc991d38eb2bc788e9982034b0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03540 (method 3844450837) -- contract reverted (33)\\n01: f03543 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xFFcD9cF75F42A4b0E759147625A1A4242a885eAA\",\"data\":\"0xe2be91090000000000000000000000007834e8a6ecfc88f040a949e3018aa3d9bcded07e0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 23027,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  8) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         swap token1 for exactly 1.0000 token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "632455532033675867",
         "poolBalance1": "6324555320336758664",
         "poolPriceBefore": "10.000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03798 (method 3844450837) -- contract reverted (33)\\n01: f03801 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x0b655e5f18a88CC51273D59bD042F186F4ED31F5\",\"data\":\"0xf603482c000000000000000000000000e55b2226d5da4c9b69d6ac4ce2d365199b19feb30000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03556 (method 3844450837) -- contract reverted (33)\\n01: f03559 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xF52B4c1f5E8d53FF2305b18e89AB9D6A8D0C7A10\",\"data\":\"0xf603482c000000000000000000000000f4fb7c61692554abfe78365f31fea03bf60d785e0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 23027,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  9) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "632455532033675867",
         "poolBalance1": "6324555320336758664",
         "poolPriceBefore": "10.000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03838 (method 3844450837) -- contract reverted (33)\\n01: f03841 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x9825BDaF1C8B2EcCcc8CCE06F4E9Aaa4025c0Bd6\",\"data\":\"0x9e77b8050000000000000000000000001bb6c16fe36fd0df4d3a4b47939db9fa4be4eef5000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03596 (method 3844450837) -- contract reverted (33)\\n01: f03599 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x3888f1d85E02CAC5d2546084D3C9a4B03A0e7c2a\",\"data\":\"0x9e77b8050000000000000000000000001e8ec77eb857f7074d398b9474b836e1f06f8f76000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 23027,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  10) UniswapV3Pool swap tests
       medium fee, 10:1 price, 2e18 max range liquidity
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "632455532033675867",
         "poolBalance1": "6324555320336758664",
         "poolPriceBefore": "10.000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03862 (method 3844450837) -- contract reverted (33)\\n01: f03865 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x3671E2402215ebd6eC1dbA421C5F6b28477037E0\",\"data\":\"0x9e77b8050000000000000000000000002fa4fd8821a0c03486196c0f1888fa6b0916de580000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03620 (method 3844450837) -- contract reverted (33)\\n01: f03623 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xA8Eeb121CeBe6b5309F42E12834da58E7F88653E\",\"data\":\"0x9e77b80500000000000000000000000056246cf3b22128eafaeea84e5ef1ad4f2a0170bd0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 23027,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  11) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap exactly 1.0000 token0 for token1 to price 0.50000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03902 (method 3844450837) -- contract reverted (33)\\n01: f03905 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x11d051f15f618f1Da544f23c74D51e4807CEf114\",\"data\":\"0x6dfc0ddb0000000000000000000000009c5fd7e8c08d0a3c0d0c194f366f37ed0656c2540000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03660 (method 3844450837) -- contract reverted (33)\\n01: f03663 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x2955BF798b9643062F73a9f95843BfD14b4601f6\",\"data\":\"0x6dfc0ddb00000000000000000000000035b8c45229819f3d38328b1946e562c7a21133360000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  12) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap token0 for exactly 1.0000 token1 to price 0.50000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03918 (method 3844450837) -- contract reverted (33)\\n01: f03921 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x8f972c71271cb65474aA6701AebD1c2fa11B6A61\",\"data\":\"0xbac7bf780000000000000000000000004b820c9e73f2078e5e68e2439b042d57ab9905500000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03676 (method 3844450837) -- contract reverted (33)\\n01: f03679 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x5694Fa758DDB735Ceb34aF050d41490B3B2332Bb\",\"data\":\"0xbac7bf78000000000000000000000000f6ae6865f9dce10effb86f292ace0cac2a44f8690000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  13) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap token0 for token1 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03974 (method 3844450837) -- contract reverted (33)\\n01: f03977 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xb12f9f32f69Ce25f642211583Bf9c2CE9D2E3D38\",\"data\":\"0x2ec20bf90000000000000000000000009b7f5ae5c57d6bd361ec698e6e58c1b24845cb9e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03732 (method 3844450837) -- contract reverted (33)\\n01: f03735 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xc85Adc66BA3A01b6EC2E34be466712C5a63650Ee\",\"data\":\"0x2ec20bf9000000000000000000000000d022925a89863348267fcf8522bf1e3e857b7c9d0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  14) UniswapV3Pool swap tests
       medium fee, 1:10 price, 2e18 max range liquidity
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "6324555320336758664",
         "poolBalance1": "632455532033675867",
         "poolPriceBefore": "0.10000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03982 (method 3844450837) -- contract reverted (33)\\n01: f03985 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x7c50fEa536f62036af509D016C27FD70DBb8d924\",\"data\":\"0x2ec20bf9000000000000000000000000c7989e4b075c007e0c568528a46bc4bb41d898f3000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03740 (method 3844450837) -- contract reverted (33)\\n01: f03743 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x86318aD503E231C4fe7d92083A10E21B1a7Df34c\",\"data\":\"0x2ec20bf900000000000000000000000019cc23296b49f99808e3b909afa2974a0e159a22000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -23028,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  15) UniswapV3Pool swap tests
       medium fee, 1:1 price, 0 liquidity, all liquidity around current price
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1994009290088178439",
         "poolBalance1": "1994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04110 (method 3844450837) -- contract reverted (33)\\n01: f04113 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x235a82681C6BB4570157D3ddd91FBa78282b614a\",\"data\":\"0x2ec20bf90000000000000000000000003c555b4d030701a175ea90a9cc0fb5b112ce0328000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03868 (method 3844450837) -- contract reverted (33)\\n01: f03871 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x9b6973d410A731704A1c7Bd736197fDa735e6Af9\",\"data\":\"0x2ec20bf9000000000000000000000000a3dcf9d42837c2b09fa59044b7eb674806743528000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  16) UniswapV3Pool swap tests
       medium fee, 1:1 price, 0 liquidity, all liquidity around current price
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1994009290088178439",
         "poolBalance1": "1994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04118 (method 3844450837) -- contract reverted (33)\\n01: f04121 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x71DDa02357Fc83d2557637B260952741E2A9F5cC\",\"data\":\"0x9e77b80500000000000000000000000027c9814c0b1a9324f171cc7934a01aa94966e12e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03876 (method 3844450837) -- contract reverted (33)\\n01: f03879 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x32c1693b1aC05294DA982965E8B42AE6f31e5713\",\"data\":\"0x9e77b805000000000000000000000000bef385f5313a2a76e362273d0787b83852c7be2c0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  17) UniswapV3Pool swap tests
       medium fee, 1:1 price, additional liquidity around current price
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "3994009290088178439",
         "poolBalance1": "3994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04238 (method 3844450837) -- contract reverted (33)\\n01: f04241 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x0DAffafAA2f1BD61e24Ca4DCe06F06348fc0FE4B\",\"data\":\"0x2ec20bf90000000000000000000000000b481b28760cf58a348252852a42acb3a28ea448000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f03996 (method 3844450837) -- contract reverted (33)\\n01: f03999 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xE0d0ed3EB1ee4AfEC91C2Fc90fb6086BB7CA89d1\",\"data\":\"0x2ec20bf90000000000000000000000005dd9f5e0bc584932088e977e8710481c30539db4000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  18) UniswapV3Pool swap tests
       medium fee, 1:1 price, additional liquidity around current price
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "3994009290088178439",
         "poolBalance1": "3994009290088178439",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04246 (method 3844450837) -- contract reverted (33)\\n01: f04249 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xDB8B3419D56c5F02bc9C51e04cF8163F6D953B6c\",\"data\":\"0x9e77b805000000000000000000000000ceedc2d01f5ab1d6f7756a303de6424741e70b390000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04004 (method 3844450837) -- contract reverted (33)\\n01: f04007 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x096b5281A314dDf22353ca4F5188D60418a9cb7a\",\"data\":\"0x9e77b8050000000000000000000000007b07fcec89b6da1f7d2668cd7df42c3662b9547b0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  19) UniswapV3Pool swap tests
       low fee, large liquidity around current price (stable swap)
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "999700069986003",
         "poolBalance1": "999700069986003",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04366 (method 3844450837) -- contract reverted (33)\\n01: f04369 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x901b8C6dbC7bDAbC750B3e24678d87D1d874533B\",\"data\":\"0x2ec20bf9000000000000000000000000f0e3dd198e0ae27da42a7486cfb9563de47396a1000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04124 (method 3844450837) -- contract reverted (33)\\n01: f04127 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x9aEA6f1173898cd98E29819957E8EB93fEe71ADA\",\"data\":\"0x2ec20bf9000000000000000000000000907dcddb5345d8f4ec87c6438006a4c8636f2ef4000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  20) UniswapV3Pool swap tests
       low fee, large liquidity around current price (stable swap)
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "999700069986003",
         "poolBalance1": "999700069986003",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04374 (method 3844450837) -- contract reverted (33)\\n01: f04377 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x902B28bbAcA57fEF29034fe14adaB5ec78C3f02A\",\"data\":\"0x9e77b805000000000000000000000000f09b91b56a2b1a847d756c08d5a6705bcf11f2950000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04132 (method 3844450837) -- contract reverted (33)\\n01: f04135 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xdD8e8adE0f5f8D0fe05b4100764E2fE6bb671F35\",\"data\":\"0x9e77b8050000000000000000000000008b5c46df864b02992c30ce0c571d19f73d14d8b90000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  21) UniswapV3Pool swap tests
       medium fee, token0 liquidity only
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1995041008271423675",
         "poolBalance1": "0",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04494 (method 3844450837) -- contract reverted (33)\\n01: f04497 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x52228fe1D9867d9ba824809437f8d9CFb4f99ed4\",\"data\":\"0x2ec20bf900000000000000000000000090d150e2cf99c510f9d19088f41cd37795ae94aa000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04252 (method 3844450837) -- contract reverted (33)\\n01: f04255 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x8d3957C554479161CAb085696E931fC0D82D2EF2\",\"data\":\"0x2ec20bf9000000000000000000000000babca07321ebee1502216e40f2d19f0eaab373d0000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  22) UniswapV3Pool swap tests
       medium fee, token0 liquidity only
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1995041008271423675",
         "poolBalance1": "0",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04502 (method 3844450837) -- contract reverted (33)\\n01: f04505 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x35b4B2E516c09802569AaccE4768Ea7B1Cf68d80\",\"data\":\"0x9e77b805000000000000000000000000102553330bc52b6d38fbdae9e4d0be33637a68820000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04260 (method 3844450837) -- contract reverted (33)\\n01: f04263 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x59DFbC39757A82D67Ea69c5eEE25D18Ec0224623\",\"data\":\"0x9e77b8050000000000000000000000005317c9a26fa9c7857fade6c8fd8a97a2a1cc1aa60000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  23) UniswapV3Pool swap tests
       medium fee, token1 liquidity only
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "0",
         "poolBalance1": "1995041008271423675",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04622 (method 3844450837) -- contract reverted (33)\\n01: f04625 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xD9C7bb358D453D2A21092bBFDb8C726928468cE2\",\"data\":\"0x2ec20bf90000000000000000000000000f0a27447cc9e51fd3d8fd72e8b5c869d3347b00000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04380 (method 3844450837) -- contract reverted (33)\\n01: f04383 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x2C2c923F07A578799aBF05f7e6310962A06B348f\",\"data\":\"0x2ec20bf9000000000000000000000000c4e7f0b28265393ba2dea836a57108ccf46c7fbe000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  24) UniswapV3Pool swap tests
       medium fee, token1 liquidity only
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "0",
         "poolBalance1": "1995041008271423675",
         "poolPriceBefore": "1.0000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04630 (method 3844450837) -- contract reverted (33)\\n01: f04633 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x27d815a00F1f18f7b262B173aC20fe80860e5e5c\",\"data\":\"0x9e77b8050000000000000000000000009fb6b8f0005ee2624887d52a20762c552344e4d80000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04388 (method 3844450837) -- contract reverted (33)\\n01: f04391 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xeeB5884A41e0D783ed7C11AEA3AFA78A78703663\",\"data\":\"0x9e77b8050000000000000000000000002b1252a1b77d201344b6cbe4e29784dfce9e5ca40000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 0,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  25) UniswapV3Pool swap tests
       close to max price
         swap exactly 1.0000 token1 for token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04678 (method 3844450837) -- contract reverted (33)\\n01: f04681 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x2Ea54C4765B8A461f4c57443a1C07b7DEF79D8C6\",\"data\":\"0xe2be9109000000000000000000000000813ed672ac381963fef74da2ab7714a37671c8650000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04436 (method 3844450837) -- contract reverted (33)\\n01: f04439 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x7F2EE2bB252468638e9e49F89b21AC93d1913Dc8\",\"data\":\"0xe2be910900000000000000000000000098a725b67f51558c613268610a8daaef2d4bfb950000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  26) UniswapV3Pool swap tests
       close to max price
         swap token1 for exactly 1.0000 token0 to price 2.0000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04694 (method 3844450837) -- contract reverted (33)\\n01: f04697 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x60d1a257a06fe65A1cAA179e2Ab842d7d5821F76\",\"data\":\"0xf603482c000000000000000000000000af62bcdf6251ef7c94c6621068c9c1e86db32a090000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04452 (method 3844450837) -- contract reverted (33)\\n01: f04455 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xa8ED868f12DFf9C5A90f88D7A958cc047Ddd8301\",\"data\":\"0xf603482c0000000000000000000000007efa84ec59e0060a759d7c4827cf1cf84008a2b60000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000016a09e667f3bcc908b2fb1366\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  27) UniswapV3Pool swap tests
       close to max price
         swap token1 for token0 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04734 (method 3844450837) -- contract reverted (33)\\n01: f04737 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xf94430C28C4D1850F9e8c33e4A5AE8503f781091\",\"data\":\"0x9e77b8050000000000000000000000009a378786c4fb786093ea2a5ad5232aa6c927b35b000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04492 (method 3844450837) -- contract reverted (33)\\n01: f04495 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x2e6EAbA53C75790769c3Be3296AcfaA85017FCb6\",\"data\":\"0x9e77b805000000000000000000000000b39b61d72970862c1a63dc39223ca25605b36460000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  28) UniswapV3Pool swap tests
       close to max price
         swap token1 for token0 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "1",
         "poolBalance1": "26087635650665564424699143612505016738",
         "poolPriceBefore": "1.7014e+38",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04758 (method 3844450837) -- contract reverted (33)\\n01: f04761 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x5d1Ec9a8c365189233a296AF31C3a2a6e300a239\",\"data\":\"0x9e77b805000000000000000000000000907968b0989505bf81ac544c91ead96347eaaeab0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04516 (method 3844450837) -- contract reverted (33)\\n01: f04519 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x7eA6Ea2AF8C6C4D9C88BBA3B5E4dE0a55fbd6059\",\"data\":\"0x9e77b805000000000000000000000000e9d01b11d3a56332cc4ecbb3cac390fa401b8e8d0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": 880340,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  29) UniswapV3Pool swap tests
       close to min price
         swap exactly 1.0000 token0 for token1 to price 0.50000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "26037782196502120275425782622539039026",
         "poolBalance1": "1",
         "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04798 (method 3844450837) -- contract reverted (33)\\n01: f04801 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x2176F43c2501b5Bf28c44a6164FE290a6c602BC5\",\"data\":\"0x6dfc0ddb000000000000000000000000ca30f9fe94ab0c8d75dc1376b5064f430aacfbcb0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04556 (method 3844450837) -- contract reverted (33)\\n01: f04559 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x284AF7cc77Fb2c8162f7E28870fa048E46f5dDf7\",\"data\":\"0x6dfc0ddb000000000000000000000000a23a6b25e3e1ec9c854022e0c8b2d752cd1ba9630000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -880303,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  30) UniswapV3Pool swap tests
       close to min price
         swap token0 for exactly 1.0000 token1 to price 0.50000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "26037782196502120275425782622539039026",
         "poolBalance1": "1",
         "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04814 (method 3844450837) -- contract reverted (33)\\n01: f04817 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0x088F781Ee9F1e63A01683bF4389D85B294cEdCac\",\"data\":\"0xbac7bf7800000000000000000000000064d2de40895f5ab3cd8f3839c2482a7d95b794a00000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04572 (method 3844450837) -- contract reverted (33)\\n01: f04575 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0x16e20C1b09D816156bAA58cadc1F173E4b6DD886\",\"data\":\"0xbac7bf780000000000000000000000002527703b538a7fbe3b5830ecbecacec1355e278f0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000b504f333f9de6484597d89b3\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -880303,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  31) UniswapV3Pool swap tests
       close to min price
         swap token0 for token1 to price 0.40000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "26037782196502120275425782622539039026",
         "poolBalance1": "1",
         "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04870 (method 3844450837) -- contract reverted (33)\\n01: f04873 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xE624650BAC5f6e50Fd8A8665FB4C3F125e127Dd2\",\"data\":\"0x2ec20bf900000000000000000000000052cdb948091edca9ca7e2cd93d7e15e755cb315e0000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
      +  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04628 (method 3844450837) -- contract reverted (33)\\n01: f04631 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"maxPriorityFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05e00\"},\"maxFeePerGas\":{\"type\":\"BigNumber\",\"hex\":\"0xb2d05f90\"},\"to\":\"0xa291ab8e09EE82c772C7D996cc0272b60b58696c\",\"data\":\"0x2ec20bf9000000000000000000000000c2bc022d6e9696a21489df2186bc2aabfe2499b30000000000000000000000000000000000000000a1e89b12424876d9b744b6790000000000000000000000000000000000000000000000000000000000000001\",\"type\":2,\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anonymous>)\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async EthersProviderWrapper.send (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\",\"code\":1,\"_isProviderError\":true}, code=UNPREDICTABLE_GAS_LIMIT, version=providers/5.7.2)",
         "tickBefore": -880303,
       }
      
      at SnapshotManager.assert (node_modules/mocha-chai-jest-snapshot/src/manager.ts:63:29)
      at Proxy.<anonymous> (node_modules/mocha-chai-jest-snapshot/src/index.ts:81:20)
      at Proxy.methodWrapper (node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at Context.<anonymous> (test/UniswapV3Pool.swaps.spec.ts:522:19)
      at runMicrotasks (<anonymous>)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)

  32) UniswapV3Pool swap tests
       close to min price
         swap token0 for token1 to price 2.5000:

      swap error
      + expected - actual

       Object {
         "poolBalance0": "26037782196502120275425782622539039026",
         "poolBalance1": "1",
         "poolPriceBefore": "0.0000000000000000000000000000000000000059000",
      -  "swapError": "cannot estimate gas; transaction may fail or may require manual gas limit [ See: https://links.ethers.org/v5-errors-UNPREDICTABLE_GAS_LIMIT ] (reason=\"failed to estimate gas: message execution failed: exit 33, revert reason: Error(SPL), vm error: message failed with backtrace:\\n00: f04878 (method 3844450837) -- contract reverted (33)\\n01: f04881 (method 3844450837) -- contract reverted (33)\\n (RetCode=33)\", method=\"estimateGas\", transaction={\"from\":\"0xF113C0c7741E1351A6263c7e8cF693494BCf58F7\",\"to\":\"0xd7A097c5e4771225f9F0a80DE8C4cAf0971E7527\",\"data\":\"0x2ec20bf900000000000000000000000092f7e5cd2a9625152133e9472232752b3b129295000000000000000000000000000000000000000194c583ada5b529204a2bc8300000000000000000000000000000000000000000000000000000000000000001\",\"accessList\":null}, error={\"name\":\"ProviderError\",\"_stack\":\"ProviderError: HttpProviderError\\n    at HttpProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/http.ts:83:19)\\n    at LocalAccountsProvider.request (/Users/alex/Documents/Work/mob/filecoin/uniswap-v3-core/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\\n    at runMicrotasks (<anony